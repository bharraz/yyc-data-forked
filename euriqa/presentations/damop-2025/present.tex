\documentclass{beamer}
\mode<presentation>{
  \usetheme{Boadilla}
  \usefonttheme[onlylarge]{structurebold}
  \usefonttheme[stillsansseriflarge]{serif}
  \setbeamerfont*{frametitle}{size=\normalsize,series=\bfseries}
  % \setbeamertemplate{navigation symbols}{}
  \setbeamercovered{transparent}
}
\usepackage[english]{babel}
\usepackage[latin1]{inputenc}
\usepackage{times}
\usepackage[T1]{fontenc}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{esint}
\usepackage{hyperref}
\usepackage{tikz}
\usepackage{xkeyval}
\usepackage{xargs}
\usepackage{xcolor}
\usepackage{verbatim}
\usepackage{listings}
\usepackage{multimedia}
\usepackage{bm}
\usepackage{siunitx}
\usetikzlibrary{
  arrows,
  calc,
  decorations.pathmorphing,
  decorations.pathreplacing,
  decorations.markings,
  fadings,
  positioning,
  shapes,
  arrows.meta
}
\usepgfmodule{oo}

\pgfdeclareradialshading{glow2}{\pgfpoint{0cm}{0cm}}{
  color(0mm)=(white);
  color(2mm)=(white);
  color(8mm)=(black);
  color(10mm)=(black)
}
\pgfdeclareradialshading{glow}{\pgfpoint{0cm}{0cm}}{
  color(0mm)=(white);
  color(5mm)=(white);
  color(9mm)=(black);
  color(10mm)=(black)
}
\pgfdeclareverticalshading{north edge}{2cm}{
  % manual 1082-1083; later - shading is assumed to be 100bp diameter ??
  color(0cm)=(white);
  color(1.3cm)=(white);
  color(1.5cm)=(black)
}

\begin{tikzfadingfrompicture}[name=glow fading]
  \shade [shading=glow] (0,0) circle (1);
\end{tikzfadingfrompicture}

\begin{tikzfadingfrompicture}[name=glow2 fading]
  \shade [shading=glow2] (0,0) circle (1);
\end{tikzfadingfrompicture}

\begin{tikzfadingfrompicture}[name=north edge fading]
  \shade [shading=north edge] (-1,-1) rectangle (1, 1);
\end{tikzfadingfrompicture}

\mode<handout>{
  \usepackage{pgfpages}
  \pgfpagesuselayout{4 on 1}[a4paper,landscape,border shrink=5mm]
  \setbeamercolor{background canvas}{bg=black!10}
}

\newcommand\pgfmathsinandcos[3]{%
  \pgfmathsetmacro#1{sin(#3)}%
  \pgfmathsetmacro#2{cos(#3)}%
}
\newcommand\LongitudePlane[3][current plane]{%
  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
  \pgfmathsinandcos\sint\cost{#3} % azimuth
  \tikzset{#1/.estyle={cm={\cost,\sint*\sinEl,0,\cosEl,(0,0)}}}
}
\newcommand\LatitudePlane[3][current plane]{%
  \pgfmathsinandcos\sinEl\cosEl{#2} % elevation
  \pgfmathsinandcos\sint\cost{#3} % latitude
  \pgfmathsetmacro\yshift{\cosEl*\sint}
  \tikzset{#1/.estyle={cm={\cost,0,0,\cost*\sinEl,(0,\yshift)}}} %
}
\newcommand\DrawLongitudeCircle[2][1]{
  \LongitudePlane{\angEl}{#2}
  \tikzset{current plane/.prefix style={scale=#1}}
  % angle of "visibility"
  \pgfmathsetmacro\angVis{atan(sin(#2)*cos(\angEl)/sin(\angEl))} %
  \draw[current plane] (\angVis:1) arc (\angVis:\angVis+180:1);
  \draw[current plane,dashed] (\angVis-180:1) arc (\angVis-180:\angVis:1);
}
\newcommand\DrawLatitudeCircleArrow[2][1]{
  \LatitudePlane{\angEl}{#2}
  \tikzset{current plane/.prefix style={scale=#1}}
  \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
  % angle of "visibility"
  \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
  \draw[current plane,decoration={markings, mark=at position 0.6 with {\arrow{<}}},postaction={decorate},line width=.6mm] (\angVis:1) arc (\angVis:-\angVis-180:1);
  \draw[current plane,dashed,line width=.6mm] (180-\angVis:1) arc (180-\angVis:\angVis:1);
}
\newcommand\DrawLatitudeCircle[2][1]{
  \LatitudePlane{\angEl}{#2}
  \tikzset{current plane/.prefix style={scale=#1}}
  \pgfmathsetmacro\sinVis{sin(#2)/cos(#2)*sin(\angEl)/cos(\angEl)}
  % angle of "visibility"
  \pgfmathsetmacro\angVis{asin(min(1,max(\sinVis,-1)))}
  \draw[current plane] (\angVis:1) arc (\angVis:-\angVis-180:1);
  \draw[current plane,dashed] (180-\angVis:1) arc (180-\angVis:\angVis:1);
}
\newcommand\coil[1]{
  {\rh * cos(\t * pi r)}, {\apart * (2 * #1 + \t) + \rv * sin(\t * pi r)}
}
\makeatletter
\define@key{DrawFromCenter}{style}[{->}]{
  \tikzset{DrawFromCenterPlane/.style={#1}}
}
\define@key{DrawFromCenter}{r}[1]{
  \def\@R{#1}
}
\define@key{DrawFromCenter}{center}[(0, 0)]{
  \def\@Center{#1}
}
\define@key{DrawFromCenter}{theta}[0]{
  \def\@Theta{#1}
}
\define@key{DrawFromCenter}{phi}[0]{
  \def\@Phi{#1}
}
\presetkeys{DrawFromCenter}{style, r, center, theta, phi}{}
\newcommand*\DrawFromCenter[1][]{
  \setkeys{DrawFromCenter}{#1}{
    \pgfmathsinandcos\sint\cost{\@Theta}
    \pgfmathsinandcos\sinp\cosp{\@Phi}
    \pgfmathsinandcos\sinA\cosA{\angEl}
    \pgfmathsetmacro\DX{\@R*\cost*\cosp}
    \pgfmathsetmacro\DY{\@R*(\cost*\sinp*\sinA+\sint*\cosA)}
    \draw[DrawFromCenterPlane] \@Center -- ++(\DX, \DY);
  }
}
\newcommand*\DrawFromCenterText[2][]{
  \setkeys{DrawFromCenter}{#1}{
    \pgfmathsinandcos\sint\cost{\@Theta}
    \pgfmathsinandcos\sinp\cosp{\@Phi}
    \pgfmathsinandcos\sinA\cosA{\angEl}
    \pgfmathsetmacro\DX{\@R*\cost*\cosp}
    \pgfmathsetmacro\DY{\@R*(\cost*\sinp*\sinA+\sint*\cosA)}
    \draw[DrawFromCenterPlane] \@Center -- ++(\DX, \DY) node {#2};
  }
}
\makeatother

% not mandatory, but I though it was better to set it blank
\setbeamertemplate{headline}{}
\def\beamer@entrycode{\vspace{-\headheight}}

\tikzstyle{snakearrow} = [decorate, decoration={pre length=0.2cm,
  post length=0.2cm, snake, amplitude=.4mm,
  segment length=2mm},thick, ->]

%% document-wide tikz options and styles

\tikzset{%
  % >=latex, % option for nice arrows
  inner sep=0pt,%
  outer sep=2pt,%
  mark coordinate/.style={inner sep=0pt,outer sep=0pt,minimum size=3pt,
    fill=black,circle}%
}
\tikzset{
  % Define standard arrow tip
  >=stealth',
  % Define style for boxes
  punkt/.style={
    rectangle,
    rounded corners,
    draw=black, very thick,
    text width=8em,
    minimum height=2.5em,
    text centered},
}

\tikzset{onslide/.code args={<#1>#2}{%
    \only<#1>{\pgfkeysalso{#2}}
    % \pgfkeysalso doesn't change the path
  }}
\tikzset{alt/.code args={<#1>#2#3}{%
    \alt<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}
    % \pgfkeysalso doesn't change the path
  }}
\tikzset{temporal/.code args={<#1>#2#3#4}{%
    \temporal<#1>{\pgfkeysalso{#2}}{\pgfkeysalso{#3}}{\pgfkeysalso{#4}}
    % \pgfkeysalso doesn't change the path
  }}

\makeatletter
\newbox\@backgroundblock
\newenvironment{backgroundblock}[2]{%
  \global\setbox\@backgroundblock=\vbox\bgroup%
  \unvbox\@backgroundblock%
  \vbox to0pt\bgroup\vskip#2\hbox to0pt\bgroup\hskip#1\relax%
}{\egroup\egroup\egroup}
\addtobeamertemplate{background}{\box\@backgroundblock}{}
\makeatother

% \def\timeleft{15:00->14:55}

\title[MCMR with \textit{omg}]{Mid-circuit measurement and reset using \textit{omg} architecture in trapped-ion quantum computing systems}
\date{June 19, 2025}
\author[Yichao Yu]{Yichao Yu\\
  \vspace{0.5cm}
  {\footnotesize Keqin Yan, Debopriyo Biswas, Vivian Zhang, Bahaa Harraz,}\\
  {\footnotesize Crystal Noel, Christopher R Monroe, Alexander Kozhanov}}
\institute[Duke Quantum Center]{Monroe Group/Duke Quantum Center}

\ifpdf
  % Ensure reproducible output
  \pdfinfoomitdate=1
  \pdfsuppressptexinfo=-1
  \pdftrailerid{}
  \hypersetup{
    pdfcreator={},
    pdfproducer={}
  }
\fi

\begin{document}

%% Outline
% * Intro
% _ * Multiple systems at DQC
% _ * MCMR for feedback/QEC
% * omg for MCMR and Metastable state control
% _ * MCMR in a single species with omg, without additional ind beams
% _ * Dressing
% _ * Qubit rotation
% * Different approaches
% _ * Shelving
% _ * Hands-off
% * Implementations
% _ * Measurement
% _ * Reset

%% Title
% I'm Yichao from the Monroe group at Duke Quantum Center
% and today I'll tell you about our in-situ mid-circuit measurement
% in a trapped ion quantum computer.

{
  \usebackgroundtemplate{
    \makebox[\paperwidth][c]{\centering\includegraphics[width=\paperwidth]{imgs/LabPicture_bg.png}}
  }
  \begin{frame}{}
    \titlepage
    % TODO: add reference to paper
  \end{frame}
}

%% Intro
% Here at the Duke quantum center, we operate a variety of quantum computing systems
% based on trapped chain of 5-30 Yb/Ba ions.
% All of these systems have high fidelity state preparation and measurement
% as well as individual addressing of single ions for single and two qubit gate operations.
% Ours is the gold system, currently operates with up to 7-x Yb171 ions.

\begin{frame}{Duke Quantum Center}
  % Systems picture, with species and ion count
  % SPAM/single/two qubit gate fidelity for gold
\end{frame}

% Like most of the other systems, experiments on our system typically follows
% the standard procedure of AMO experiments so far.
% Starting with state initialization with optical pumping,
% do some coherent evolution including single and two qubit gates,
% and finally do state detection in the end with optical fluorescence.

% While this type of operation works well and is quite versatile, techique such as QEC,
% which is important for a scalable quantum computing system,
% requires ammending the coherent evolution process with classical feedback.
% This necessitate measurement and also reset of the measured qubit
% to be done mid-circuit, hence the name mid-circuit measurement and reset,
% or MCMR for short.

\begin{frame}{Mid-circuit measurement and reset (MCMR)}
  \begin{tikzpicture}
    % Standard experiment procedure
    % Adding feedback procedure, MCMR
  \end{tikzpicture}
\end{frame}

%% Implementation of MCMR in amo/ion systems
% Compared to measurement and reset process we currently used,
% the main difference for a mid-circuit version,
% is of course that we need to distinguish between the atoms that needs to be measured,
% which we'll call the auxiliary atoms, and the atoms that aren't,
% which will be called the data atoms.
% Due to the broad linewidth of the transition typically used,
% it can be really challenging to prevent scattering on the data atom
% caused by any kind of crosstalk.

% In ion systems, the isolation of the data ion have been realized with shuttling,
% differentiating the two types with physical separation,
% or by using multiple ion species with different measurement and reset wavelengths.

% However, both of these adds significant complexity, and in the case of shuttling,
% time cost, to the experiment. Instead, we developed a technique
% that can be added with low overhead and minimum footprint on the experiment setup.
% This would allow the MCMR capabilities to be added to many experiments
% even including a lot of the existing ones like ours.

\begin{frame}{Mid-circuit measurement and reset (MCMR)}
  % Diagram showing scattering from one without affecting other, define data/auxiliary
  % Shuttling, multi species references
\end{frame}

%% Use metastable state for MCMR
% We achieve this using the so-called omg-archtecture, similar to how it is also done
% in some neutral atom tweezer experiments recently.
% This takes advantage of the metastable states that exist in almost all of
% the ion species. (D in Ba, D/F in Yb).

% This can in general happen in two different ways.
% In what we called the shelving method, which takes advantage of the long lifetime
% of the metastable state, the data ion is driven to the metastable state
% which protects it from seeing the the detection or pumping transitions.

% Alternatively, if the data ion is left untouched in the ground state
% but the auxiliary ion is driven to the metastable state we can scatter photon off of
% the metastable state to either pump or detect the ions.
% In this case the narrow linewidth of the metastable state can help
% reducing unwanted coupling to the data ions.
% We named this second one the hands-off methods, since it, when done right,
% nominally does all the operations on the auxiliary ion
% without perturbing the data ion.

\begin{frame}{MCMR with metastable state
    \only<2>{-- shelving}\only<3->{-- hands-off}}
  % Metastable states in ions
  % Shelving method
  % Hands off method
\end{frame}

%% Individual control of metastable state
% Still, both of these methods rely on individual control of the metastable state.
% The most obvious way to achieve this, of course, is to add focused beams to drive
% such a transition only on the desired target ions.
% True to our goal of minimizing the footprint, however,
% and knowing how challenging and distruptive it could be to
% add a new individual addressing beam path,
% we implemented all our schemes with a single global beam
% to drive the metastable transition,
% and to use exisiting individual addressing beams, the ones used for gate operations,
% to distinguish between the ions types.

% One of the ways this can be achieved is by dressing a target ion,
% usually the auxiliary ions, using the individual gate control beams.
% The dressing can selectively shift the resonance of
% the metastable transition allowing us to drive only the ions we want.
% Note that I used the term dressing, rather than Stark shift,
% which is a special case of dressing. This is because, well first I'd like to be more
% general, but more importantly, the 355nm laser we use for gate operations
% is specifically selected to produce minimum Stark shift to improve gate fidelity.
% We therefore had to rely on driving a near resonant Raman transition
% using our 355nm lasers, outside the Stark shift regime,
% in order to produce an appriaciable shift.

% Here's what that shift look like on our Yb ions.
% The ... and ... line shows the spectrum with and without the Raman dressing.
% The spectra are taken with a Blackman pulse shape to reduce off-resonance coupling,
% giving rise to the smooth and narrow peak shape.
% Both lines are also taken with the pi time for the dressed transition.
% This overdrives the bare resonance, and combined with the Blackman pulse shape,
% is why that resonance appears to be smaller.

% While reusing the qubit control laser for dressing works,
% this process does involve using them in a somewhat different way compared
% to their original role. It's not a hard requirement, however, and we could use them
% exactly the same as how they are used in a normal circuit.
% One way to see how this works is to treat the qubit states
% and the metastable state together as a qudit system.
% Here, full individual *qudit* control, can be achieved by simply having
% full individual *qubit* contrl on any two of the levels,
% combined with global operations connecting to other levels.
% An example of such a sequence is shown here, in which only one of the ion
% ends up being in the metastable state, despite requiring only global drive there.
% The sequence here can of course be customized as needed for each qudit systems
% and I'll show the sequence we use for our demostration in a minute.

% This second way of individual metastable state control,
% which we called the qubit rotation implementation, for lack of a better name,
% does have it drawback since it usually mean that all of the atoms needs to be
% driven to the metastable state at least temporarily.
% This can be seen clearly in this table showing the combination of the different
% methods mentioned so far. While dressing can be applied equally well
% to both of the methods of MCMR, since the main selling point of the hands-off methods'
% is to not touch the data ions, having to drive all of them to the metastable state
% defeats the point and it doesn't usually make sense to have this combination.

\begin{frame}{Individual control of metastable state}
  % Dressing energy diagram
  % Raman dressing?
  % Dressed spectrum

  % Qubit rotation method (qudit diagram)
  % Example sequence

  % Method combination table
\end{frame}

%% Realization
% With that survey of the methods in minds, we demonstrated all
% of the combinations that makes sense in our system.
% The metastable state we used here is the F=2 clock state
% in the D3/2 manifold of Yb171 ions which have a coherence time of 10ms
% limited by laser lock and off-resonant scattering.
% All of the demonstration are done on a short chain of only two ions,
% and with their separation set to be the same as in a longer chain.
% (Mention Ba result)

% For mid-circuit measurement, we selected the shelving method.
% This allow us to use the normal transition for detection,
% which has high scattering rate and we can use the same imaging optics and detector.
% We tried both dressing and qubit rotation and here's the qubit rotation sequence
% we use for this particular case.
% This shelves the data qubit away from the 1 state
% where photon scattering happens,
% while keeping the population for the auxiliary ion there untouched to be detected.
% We measured a detection fidelity that's identical to our normal one, around 99.7%
% and a fidelity for the data ion of % and % respectively when using dressing
% or qubit rotation.
% The data ion fidelity for qubit rotation is limited by the coherence of the D state
% where the ion is shelved to, and the error on top of that for dressing
% comes from a more complex sequence and crosstalk from the dressing beam.
% Both of these aspect can be improved with improvment in our beam path and laser locking.

% We also demonstrated mid-circuit reset, this time using the hands-off method.
% Here the goal is simply to selectively drive one of the qubit state of the auxiliary
% ions to the D state before pumping them back and repeats this cycle
% until the ion is in the other qubit state.
% As discussed, the individual control is done with dressing and here I'm showing
% the reset error when the auxiliary ion was initialized in either of the qubit states.
% Similarly, the data ion error is shown here. With about 14 cycle of pumping,
% we can pump the ion with 99% fidelity while causing % of data infidelity.
% We believe this residue error is mainly caused by off resonant
% coupling to the motional mode since the ion wasn't fully cooled for this experiment
% and Raman crosstalk.

\begin{frame}{}
  % Yb metastable level diagram

  % Qubit rotation sequence
  % Measurement results

  % Reset sequence
  % Reset result
\end{frame}

% With that
{
  \usebackgroundtemplate{
    \makebox[\paperwidth][c]{\centering\includegraphics[width=\paperwidth]{imgs/LabPicture_bg.png}}
  }
  \begin{frame}{}
    \begin{center}
      \begin{tikzpicture}
        \shadedraw[inner color=gray,outer color=blue!40!white,path fading = glow2 fading] (-3.8,0.05) rectangle (3.8,0.15);

        \node[align=center,below,font=\tiny] at (-3, 0)
        {\includegraphics[height=2.1cm]{imgs/members/Chris.jpg}\\Christopher R Monroe};
        \node[align=center,below,font=\tiny] at (0, 0)
        {\includegraphics[height=2.1cm]{imgs/members/Alex.jpg}\\Alexander Kozhanov};
        \node[align=center,below,font=\tiny] at (3, 0)
        {\includegraphics[height=2.1cm]{imgs/members/Crystal.jpg}\\Crystal Noel};

        \shadedraw[inner color=gray,outer color=blue!40!white,path fading = glow2 fading] (-5.8,0.05-3) rectangle (5.8,0.15-3);

        \node[align=center,below,font=\tiny] at (-4.2, -3)
        {\includegraphics[height=2.1cm]{imgs/members/Keqin.jpg}\\Keqin Yan};
        \node[align=center,below,font=\tiny] at (-1.4, -3)
        {\includegraphics[height=2.1cm]{imgs/members/Vivian.png}\\Vivian Zhang};
        \node[align=center,below,font=\tiny] at (1.4, -3)
        {\includegraphics[height=2.1cm]{imgs/members/Debo.jpg}\\Debopriyo Biswas};
        \node[align=center,below,font=\tiny] at (4.2, -3)
        {\includegraphics[height=2.1cm]{imgs/members/Bahaa.jpg}\\Bahaa Harraz};
      \end{tikzpicture}
    \end{center}
  \end{frame}
}

\begin{frame}{}
\end{frame}

\end{document}
